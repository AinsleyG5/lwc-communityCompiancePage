<template>
    <template if:true={candidateticket}>
        <article class="slds-card slds-m-top_large">
            <div class="slds-card__header slds-grid">
                <header class="slds-media slds-media_center slds-has-flexi-truncate">
                    <div class="slds-media__figure">
                        <span class="slds-icon_container slds-icon-doctype-word" title="Description of icon when needed">
                            <lightning-icon icon-name="doctype:word" size="medium"></lightning-icon>
                        </span>
                    </div>
                    <div class="slds-media__body">
                        <h2 class="slds-card__header-title">
                            <a href="javascript:void(0);" class="slds-card__header-link slds-truncate" title="Accounts">
                                <span>{ candidateticket.Onboarding_Requirement__r.Name }</span>
                            </a>
                        </h2>
                    </div>
                </header>
            </div>
            <div class="slds-card__body slds-card__body_inner">
                <h2>Document Type: { candidateticket.Onboarding_Requirement__r.Onboarding_Requirement_Type__c }</h2>
                <h2>Status: { candidateticket.Onboarding_Requirement_Status__c }</h2>
                <h2>Expiry Date: { candidateticket.Expiration_date__c }</h2>

            <template if:true={docConfirmed}>
                <div class="slds-align_absolute-center" style="height:5rem">
                    <span class="slds-icon_container slds-icon_container_circle slds-icon-action-description" title="Description of icon when needed">
                        <lightning-icon icon-name="action:approval" size="large"></lightning-icon>
                        <span class="slds-assistive-text">Description of icon when needed</span>
                    </span>
                </div>
            </template>
        
            </div>
            <footer class="slds-card__footer">
                <div class="slds-align_absolute-center">
                    <!-- <a class="slds-card__footer-action" target="_blank" href="https://demo443.secure.force.com/forms/jsforms__forminclude?formId=RSaYJa3Zz1VtLNzS67PBsvjPWfN0OobCXsfZNO7Lv0rxrbTGmCFcmQrnesJ4on9d&ContactId=0036N000006DmoPQAS"
                    >View Document
                        <span class="slds-assistive-text">Accounts</span>
                    </a> -->
                    <template if:false={docConfirmed}>
                        <template if:true={isPersonal}>
                            <button type="button" class="slds-button slds-button_brand" onclick={submit}>Einreichen Personalstammblatt</button>
                        </template>
                    </template>
                    <template if:false={docConfirmed}>
                        <template if:false={isPersonal}>
                            <lightning-file-upload
                                label="Attach Files"
                                name="uploadFile"
                                accept={acceptedFormats}
                                record-id={candidateticket.Id}    
                                onuploadfinished={handleUploadFinished} multiple>
                            </lightning-file-upload>
                        </template>
                    </template>
                </div>
            </footer>
        </article>
    </template>
</template>